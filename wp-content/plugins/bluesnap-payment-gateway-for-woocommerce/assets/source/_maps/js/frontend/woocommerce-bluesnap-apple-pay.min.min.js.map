{"version":3,"sources":["frontend/woocommerce-bluesnap-apple-pay.min.js"],"names":["o","n","countryCode","currencyCode","total","label","amount","type","supportedNetworks","merchantCapabilities","requiredBillingContactFields","requiredShippingContactFields","t","ApplePaySession","onvalidatemerchant","a","ajax","url","woocommerce_bluesnap_apple_pay_params","ajax_url","method","dataType","data","action","validation_url","validationURL","then","e","window","atob","walletToken","completeMerchantValidation","JSON","parse","abort","onpaymentauthorized","payment","payment_token","console","log","oncancel","begin","document","body","on","canMakePayments","merchant_id","canMakePaymentsWithActiveCard","css","getElementById","addEventListener","jQuery"],"mappings":"CAAC,SAASA,GAAG,SAASC,IAAI,IAAIA,EAAE,CAACC,YAAY,KAAKC,aAAa,MAAMC,MAAM,CAACC,MAAM,aAAaC,OAAO,QAAQC,KAAK,SAASC,kBAAkB,CAAC,OAAO,WAAW,aAAa,QAAQC,qBAAqB,CAAC,eAAeC,6BAA6B,CAAC,gBAAgB,QAAQC,8BAA8B,CAAC,gBAAgB,QAAQ,UAAUC,EAAE,IAAIC,gBAAgB,EAAEZ,GAAGW,EAAEE,mBAAmB,SAASC,GAAGf,EAAEgB,KAAK,CAACC,IAAIC,sCAAsCC,SAASC,OAAO,OAAOC,SAAS,OAAOC,KAAK,CAACC,OAAO,+BAA+BC,eAAeT,EAAEU,iBAAiBC,KAAK,SAASX,GAAG,IAAIY,EAAEC,OAAOC,KAAKd,EAAEO,KAAKQ,aAAalB,EAAEmB,2BAA2BC,KAAKC,MAAMN,KAAK,SAASZ,GAAGH,EAAEsB,WAAWtB,EAAEuB,oBAAoB,SAASpB,GAAG,IAAIY,EAAEZ,EAAEqB,QAAQpC,EAAEgB,KAAK,CAACC,IAAIC,sCAAsCC,SAASC,OAAO,OAAOC,SAAS,OAAOC,KAAK,CAACC,OAAO,gCAAgCc,cAAcV,EAAExB,aAAaF,EAAEE,aAAaG,OAAOL,EAAEG,MAAME,UAAUoB,KAAK,SAASX,GAAGuB,QAAQC,IAAIxB,IAAI,SAASA,GAAGH,EAAEsB,WAAWtB,EAAE4B,SAAS,SAASzB,GAAGuB,QAAQC,IAAI,wBAAwBxB,IAAIH,EAAE6B,QAAQzC,EAAE0C,SAASC,MAAMC,GAAG,mBAAmB,YAAY,WAAW,QAAG,IAAShB,OAAOf,iBAAiBA,gBAAgBgC,kBAAkB,CAAC,IAAI9B,EAAEG,sCAAsC4B,YAAcjC,gBAAgBkC,8BAA8BhC,GAAKW,KAAK,SAASX,GAAGA,GAAGf,EAAE,qBAAqBgD,IAAI,aAAa,WAAWN,SAASO,eAAe,oBAAoBC,iBAAiB,QAAQjD,IAAIqC,QAAQC,IAAI,2BAA3V,KAApmC,CAAg+CY","file":"../../../../js/frontend/woocommerce-bluesnap-apple-pay.min.min.js","sourcesContent":["!function(o){function n(){var n={countryCode:\"US\",currencyCode:\"USD\",total:{label:\"Your Label\",amount:\"10.00\",type:\"final\"},supportedNetworks:[\"amex\",\"discover\",\"masterCard\",\"visa\"],merchantCapabilities:[\"supports3DS\"],requiredBillingContactFields:[\"postalAddress\",\"name\"],requiredShippingContactFields:[\"postalAddress\",\"email\",\"phone\"]},t=new ApplePaySession(2,n);t.onvalidatemerchant=function(a){o.ajax({url:woocommerce_bluesnap_apple_pay_params.ajax_url,method:\"POST\",dataType:\"json\",data:{action:\"bluesnap_create_apple_wallet\",validation_url:a.validationURL}}).then(function(a){var e=window.atob(a.data.walletToken);t.completeMerchantValidation(JSON.parse(e))},function(a){t.abort()})},t.onpaymentauthorized=function(a){var e=a.payment;o.ajax({url:woocommerce_bluesnap_apple_pay_params.ajax_url,method:\"POST\",dataType:\"json\",data:{action:\"bluesnap_create_apple_payment\",payment_token:e,currencyCode:n.currencyCode,amount:n.total.amount}}).then(function(a){console.log(a)},function(a){t.abort()})},t.oncancel=function(a){console.log(\"payment cancel error \",a)},t.begin()}o(document.body).on(\"updated_checkout\",function(){!function(){if(void 0!==window.ApplePaySession&&ApplePaySession.canMakePayments()){var a=woocommerce_bluesnap_apple_pay_params.merchant_id,e=ApplePaySession.canMakePaymentsWithActiveCard(a);e.then(function(a){a?(o(\"#apple-pay-button\").css(\"visibility\",\"visible\"),document.getElementById(\"apple-pay-button\").addEventListener(\"click\",n)):console.log(\"Apple pay not active\")})}}()})}(jQuery);\n//# sourceMappingURL=../../source/_maps/js/frontend/woocommerce-bluesnap-apple-pay.min.js.map\n\n//# sourceMappingURL=../../source/_maps/js/frontend/woocommerce-bluesnap-apple-pay.min.js.map\n"]}