{"version":3,"sources":["frontend/woocommerce-bluesnap-gateway.min.js"],"names":["n","r","AmericanExpress","woocommerce_bluesnap_gateway_general_params","domain","DinersClub","Discover","JCB","MaestroUK","MasterCard","Visa","Solo","CarteBleue","generic","generic_card_url","a","o","onFieldEventHandler","hostedPaymentFields","ccn","cvv","exp","onFocus","e","onBlur","onError","t","errors","i","get_form","find","remove","each","prepend","removeClass","unblock","trigger","blur","length","scroll_to_notices","document","body","onType","attr","onValid","text","style",".invalid","color","ccnPlaceHolder","cvvPlaceHolder","expDropDownSelector","3DS","on","is_bluesnap_selected","init_bluesnap","input_card_info_id","$checkout_form","$add_payment_form","$order_review_form","credentials_requested","is_checkout","is_order_review_form","form","submitted","init_bluesnap_counter","init","this","submit_credentials","is_add_payment_method","add_payment_method_trigger","on_change","on_bluesnap_selected","is","is_bluesnap_saved_token_selected","val","bluesnap","hostedPaymentFieldsCreation","token","removeAttr","secure_3d_object","amount","parseInt","total_amount","currency","billingFirstName","billing_first_name","billingLastName","billing_last_name","billingCountry","billingCity","billingZip","email","preventDefault","submit_form","block_form","submitCredentials","success_callback","error_callback","JSON","stringify","unblock_form","off","submit","prop","_3d_secure","jQuery"],"mappings":"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","file":"../../../../js/frontend/woocommerce-bluesnap-gateway.min.min.js","sourcesContent":["!function(n){\"use strict\";var r={AmericanExpress:woocommerce_bluesnap_gateway_general_params.domain+\"/services/hosted-payment-fields/cc-types/amex.png\",DinersClub:woocommerce_bluesnap_gateway_general_params.domain+\"/services/hosted-payment-fields/cc-types/diners.png\",Discover:woocommerce_bluesnap_gateway_general_params.domain+\"/services/hosted-payment-fields/cc-types/discover.png\",JCB:woocommerce_bluesnap_gateway_general_params.domain+\"/services/hosted-payment-fields/cc-types/jcb.png\",MaestroUK:woocommerce_bluesnap_gateway_general_params.domain+\"/services/hosted-payment-fields/cc-types/maestro.png\",MasterCard:woocommerce_bluesnap_gateway_general_params.domain+\"/services/hosted-payment-fields/cc-types/mastercard.png\",Visa:woocommerce_bluesnap_gateway_general_params.domain+\"/services/hosted-payment-fields/cc-types/visa.png\",Solo:woocommerce_bluesnap_gateway_general_params.domain+\"/services/hosted-payment-fields/cc-types/solo.png\",CarteBleue:woocommerce_bluesnap_gateway_general_params.domain+\"/services/hosted-payment-fields/cc-types/cb.png\",generic:woocommerce_bluesnap_gateway_general_params.generic_card_url},a={},o={onFieldEventHandler:{hostedPaymentFields:{ccn:\"ccn\",cvv:\"cvv\",exp:\"exp\"},onFocus:function(e){},onBlur:function(e){},onError:function(e,o,t){var r;a[o]=woocommerce_bluesnap_gateway_general_params.errors[o],i.get_form().find(\".woocommerce-NoticeGroup-checkout, .woocommerce-error, .woocommerce-message\").remove(),n.each(a,function(e,o){i.get_form().prepend('<div class=\"woocommerce-NoticeGroup woocommerce-NoticeGroup-checkout\"><div class=\"woocommerce-error\">'+o+\"</div></div>\")}),i.get_form().removeClass(\"processing\").unblock(),i.get_form().find(\".input-text, select, input:checkbox\").trigger(\"validate\").blur(),(r=n(\".woocommerce-NoticeGroup-updateOrderReview, .woocommerce-NoticeGroup-checkout\")).length||(r=n(\".form.checkout\")),n.scroll_to_notices(r),n(document.body).trigger(\"checkout_error\")},onType:function(e,o){var t=r[o];n(\"#card-logo > img\").attr(\"src\",t||r.generic)},onValid:function(e){n(\"#\"+e+\"-error\").text(\"\")}},style:{\".invalid\":{color:\"red\"}},ccnPlaceHolder:\"•••• •••• •••• ••••\",cvvPlaceHolder:\"CVC\",expDropDownSelector:!1,\"3DS\":t()};n(document.body).on(\"updated_checkout\",function(){i.is_bluesnap_selected()&&i.init_bluesnap(\"updated_checkout\")}),n(\"form#add_payment_method\").on(\"click payment_methods\",function(){i.is_bluesnap_selected()&&i.init_bluesnap()}),n(\"form#order_review\").on(\"click\",function(){i.is_bluesnap_selected()&&i.init_bluesnap()});var i={input_card_info_id:\"#bluesnap_card_info\",$checkout_form:n(\"form.woocommerce-checkout\"),$add_payment_form:n(\"form#add_payment_method\"),$order_review_form:n(\"form#order_review\"),credentials_requested:!1,is_checkout:!1,is_order_review_form:!1,form:null,submitted:!1,init_bluesnap_counter:0,init:function(){this.$checkout_form.length&&(this.form=this.$checkout_form,this.is_checkout=!0,this.form.on(\"checkout_place_order\",this.submit_credentials)),this.$add_payment_form.length&&(this.form=this.$add_payment_form,this.is_add_payment_method=!0,this.form.on(\"add_payment_method\",this.submit_credentials),this.$add_payment_form.on(\"submit\",this.add_payment_method_trigger)),this.$order_review_form.length&&(this.form=this.$order_review_form,this.is_order_review_form=!0,this.form.on(\"add_payment_method\",this.submit_credentials),this.$order_review_form.on(\"submit\",this.add_payment_method_trigger)),(this.is_add_payment_method||this.is_order_review_form)&&n(document.body).trigger(\"wc-credit-card-form-init\"),this.form&&this.form.on(\"change\",this.on_change)},on_change:function(){n(\"[name='payment_method']\").on(\"change\",function(){i.on_bluesnap_selected()})},is_bluesnap_selected:function(){return n(\"#payment_method_bluesnap\").is(\":checked\")},is_bluesnap_saved_token_selected:function(){return n(\"#payment_method_bluesnap\").is(\":checked\")&&n('input[name=\"wc-bluesnap-payment-token\"]').is(\":checked\")&&\"new\"!==n('input[name=\"wc-bluesnap-payment-token\"]:checked').val()},init_bluesnap:function(e){t()&&0===this.init_bluesnap_counter&&n(\"[name='woocommerce_checkout_place_order']\").attr(\"data-bluesnap\",\"submitButton\"),this.credentials_requested&&\"updated_checkout\"!==e||(bluesnap.hostedPaymentFieldsCreation(woocommerce_bluesnap_gateway_general_params.token,o),this.credentials_requested=!0),this.init_bluesnap_counter++},on_bluesnap_selected:function(){i.is_bluesnap_selected()?i.init_bluesnap():n(\"[name='woocommerce_checkout_place_order']\").removeAttr(\"data-bluesnap\")},secure_3d_object:function(){var e={};return t()&&(e={amount:parseInt(woocommerce_bluesnap_gateway_general_params.total_amount),currency:woocommerce_bluesnap_gateway_general_params.currency,billingFirstName:n(\"#billing_first_name\").length?n(\"#billing_first_name\").val():woocommerce_bluesnap_gateway_general_params.billing_first_name,billingLastName:n(\"#billing_last_name\").length?n(\"#billing_last_name\").val():woocommerce_bluesnap_gateway_general_params.billing_last_name,billingCountry:n(\"#billing_country\").val(),billingCity:n(\"#billing_city\").val(),billingZip:n(\"#billing_postcode\").val(),email:n(\"#billing_email\").val()}),e},submit_credentials:function(e){if(e.preventDefault(),i.is_bluesnap_selected())return i.is_order_review_form&&i.is_bluesnap_saved_token_selected()&&i.submit_form(),!!i.is_bluesnap_saved_token_selected()||(i.block_form(),bluesnap.submitCredentials(function(e){e?i.success_callback(e):i.error_callback()},i.secure_3d_object()),!(a={}))},add_payment_method_trigger:function(){return i.form.trigger(\"add_payment_method\"),!1},success_callback:function(e){n(this.input_card_info_id).val(JSON.stringify(e)),i.submit_form()},error_callback:function(){i.submit_form(),i.unblock_form(),i.init()},submit_form:function(){i.is_checkout&&(i.form.off(\"checkout_place_order\",i.submit_credentials),i.form.submit()),i.is_add_payment_method&&(i.form.off(\"add_payment_method\",i.submit_credentials),i.$add_payment_form.off(\"submit\",i.add_payment_method_trigger),i.form.submit()),i.is_order_review_form&&(i.form.off(\"add_payment_method\",i.submit_credentials),i.$order_review_form.off(\"submit\",i.add_payment_method_trigger),i.form.submit())},block_form:function(){i.is_checkout&&n(\"#place_order\").prop(\"readonly\",!0),i.is_add_payment_method},unblock_form:function(){i.is_checkout&&n(\"#place_order\").prop(\"readonly\",!1),i.is_add_payment_method},get_form:function(){return this.form}};function t(){return!!+woocommerce_bluesnap_gateway_general_params._3d_secure}n(function(){i.init()})}(jQuery);\n//# sourceMappingURL=../../source/_maps/js/frontend/woocommerce-bluesnap-gateway.min.js.map\n\n//# sourceMappingURL=../../source/_maps/js/frontend/woocommerce-bluesnap-gateway.min.js.map\n"]}